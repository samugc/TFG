import pandas as pd
import numpy as np

# Parámetros reales
param_values = {
    'eta': np.exp(-1),
    'beta1': 0.1,
    'beta2': -0.009,
    'beta3': 0.0002,
    'sigma2': 0.01*0.01
}

# Nombres de los algoritmos (orden idéntico al LaTeX)
algorithms = ["BL", "SA", "ILS", "EA", "EA+E", "MA+E", "DE"]

# Cargar manualmente los valores de cada parámetro por algoritmo (30 valores por parámetro)
# Por ahora, cargaremos solo los de BL para ilustrar
# Formato: diccionario anidado: algoritmo -> parámetro -> lista de 30 valores

# Ejemplo solo con BL. Los datos completos del resto pueden ser cargados progresivamente.
bl_data = {
    'eta': [
        0.383123, 0.385523, 0.385523, 0.385043, 0.384083, 0.384563, 0.385043, 0.384563,
        0.385043, 0.388403, 0.386963, 0.383603, 0.385043, 0.386003, 0.387443, 0.382643,
        0.384563, 0.386963, 0.382643, 0.385043, 0.383603, 0.384563, 0.385523, 0.385043,
        0.383603, 0.384083, 0.385043, 0.382643, 0.387443, 0.385523
    ],
    'beta1': [
        0.107823, 0.107235, 0.108410, 0.107496, 0.107561, 0.107627, 0.107170, 0.107888,
        0.107104, 0.108933, 0.109259, 0.107627, 0.107627, 0.108019, 0.108345, 0.106843,
        0.106974, 0.108606, 0.107757, 0.107300, 0.107561, 0.107888, 0.107953, 0.107627,
        0.107170, 0.107365, 0.108280, 0.106974, 0.108672, 0.107823
    ],
    'beta2': [
        -0.00959941, -0.00957619, -0.00965477, -0.00958780, -0.00959361, -0.00959361, -0.00956768, -0.00960832,
        -0.00956458, -0.00971283, -0.00971863, -0.00959091, -0.00959941, -0.00963735, -0.00966638, -0.00952974,
        -0.00955297, -0.00966638, -0.00959361, -0.00957038, -0.00959361, -0.00961994, -0.00963155, -0.00960522,
        -0.00956458, -0.00957619, -0.00964316, -0.00954135, -0.00967799, -0.00961994
    ],
    'beta3': [
        0.000210733, 0.000210349, 0.000211629, 0.000210605, 0.000210733, 0.000210477, 0.000210093, 0.000210861,
        0.000210093, 0.000212780, 0.000212780, 0.000210477, 0.000210605, 0.000211373, 0.000212012, 0.000209453,
        0.000209965, 0.000211885, 0.000210477, 0.000210221, 0.000210733, 0.000211117, 0.000211501, 0.000210989,
        0.000210093, 0.000210221, 0.000211373, 0.000209709, 0.000212140, 0.000211245
    ],
    'sigma2': [
        0.0001125 for _ in range(30)
    ]
}

sa_data = {
    'eta': [
        0.374650, 0.367125, 0.371904, 0.374197, 0.371280, 0.372388, 0.379373, 0.373731, 0.356925, 0.372745,
        0.383449, 0.377076, 0.371263, 0.377801, 0.390603, 0.383993, 0.377247, 0.370864, 0.381578, 0.366224,
        0.380804, 0.379253, 0.387939, 0.372898, 0.363183, 0.373176, 0.371393, 0.378986, 0.370002, 0.373832
    ],
    'beta1': [
        0.108298, 0.110103, 0.109885, 0.109515, 0.109950, 0.108937, 0.109269, 0.109937, 0.111707, 0.108934,
        0.111313, 0.113165, 0.108190, 0.108120, 0.111267, 0.109550, 0.110208, 0.110614, 0.111268, 0.111050,
        0.106796, 0.110506, 0.110186, 0.109124, 0.106321, 0.110275, 0.113976, 0.109049, 0.111867, 0.109143
    ],
    'beta2': [
        -0.00957285, -0.00963152, -0.00963560, -0.00961480, -0.00971118, -0.00959145, -0.00969314, -0.00970452, -0.00967298,
        -0.00962737, -0.00976728, -0.00984297, -0.00952314, -0.00959162, -0.00985419, -0.00971948, -0.00968416, -0.00967931,
        -0.00976381, -0.00971770, -0.00950049, -0.00971220, -0.00978633, -0.00961825, -0.00939088, -0.00970037, -0.00989848,
        -0.00962206, -0.00976679, -0.00962609
    ],
    'beta3': [
        0.000209749, 0.000210416, 0.000210640, 0.000210326, 0.000212583, 0.000209993, 0.000212249, 0.000212191, 0.000210740,
        0.000211129, 0.000212826, 0.000214014, 0.000208602, 0.000210110, 0.000214756, 0.000212622, 0.000211741, 0.000211203,
        0.000212843, 0.000211710, 0.000208756, 0.000211883, 0.000213943, 0.000210903, 0.000206388, 0.000212057, 0.000214984,
        0.000210417, 0.000212703, 0.000210883
    ],
    'sigma2': [
        0.000101331, 0.000100505, 0.000100909, 0.000101384, 0.000100323, 0.000102685, 0.000100616, 0.000100438,
        0.000102810, 0.000099365, 0.000099824, 0.000100194, 0.000101154, 0.000099987, 0.000100905, 0.000099675,
        0.000101269, 0.000100117, 0.000100196, 0.000100026, 0.000099592, 0.000100170, 0.000100407, 0.000099258,
        0.000099145, 0.000101602, 0.000099980, 0.000100830, 0.000100796, 0.000101403
    ]
}

ils_data = {
    'eta': [
        0.446693, 0.368018, 0.367068, 0.446693, 0.446847, 0.446693, 0.446693, 0.446693, 0.446693, 0.446693,
        0.446847, 0.346928, 0.446693, 0.299072, 0.446693, 0.422439, 0.446847, 0.446693, 0.299225, 0.446693,
        0.299072, 0.446847, 0.369480, 0.446693, 0.446847, 0.446693, 0.299072, 0.446847, 0.446693, 0.446847
    ],
    'beta1': [
        0.114544, 0.114753, 0.0944398, 0.114523, 0.114523, 0.114523, 0.114523, 0.114523, 0.114523, 0.114523,
        0.114544, 0.114544, 0.114523, 0.0944398, 0.109196, 0.0940427, 0.114523, 0.114523, 0.0944607, 0.114523,
        0.0944607, 0.114523, 0.114711, 0.114523, 0.114523, 0.114544, 0.0944398, 0.114523, 0.114523, 0.0940427
    ],
    'beta2': [
        -0.0102179, -0.0102179, -0.0083601, -0.0102179, -0.0102179, -0.0102179, -0.0102179, -0.0102179, -0.0102179, -0.0102179,
        -0.0102179, -0.0100372, -0.0102179, -0.0083601, -0.0101826, -0.0083973, -0.0102179, -0.0102179, -0.0083601, -0.0102179,
        -0.0083601, -0.0102179, -0.0102179, -0.0102179, -0.0102179, -0.0102179, -0.0083601, -0.0102179, -0.0102179, -0.0083973
    ],
    'beta3': [
        0.000224372, 0.000224413, 0.000185066, 0.000224372, 0.000224372, 0.000224413, 0.000224372, 0.000224372, 0.000224372, 0.000224372,
        0.000224372, 0.000224413, 0.000224372, 0.000185066, 0.000224413, 0.000185025, 0.000224413, 0.000224372, 0.000185066, 0.000224413,
        0.000185066, 0.000224413, 0.000224372, 0.000224372, 0.000224372, 0.000224372, 0.000185066, 0.000224372, 0.000224372, 0.000185025
    ],
    'sigma2': [
        0.0001 for _ in range(30)
    ]
}

ea_data = {
    'eta': [
        0.437476, 0.359798, 0.396903, 0.401064, 0.329089, 0.380296, 0.381886, 0.373413, 0.383861, 0.385445,
        0.408047, 0.348623, 0.352417, 0.377128, 0.415315, 0.296153, 0.373875, 0.332732, 0.336538, 0.366268,
        0.374017, 0.423063, 0.363423, 0.422644, 0.358286, 0.402564, 0.330795, 0.369354, 0.387968, 0.374331
    ],
    'beta1': [
        0.103437, 0.114941, 0.106214, 0.100601, 0.102293, 0.114941, 0.101007, 0.100802, 0.100223, 0.105441,
        0.107194, 0.100891, 0.094043, 0.101107, 0.102401, 0.096225, 0.098541, 0.098489, 0.103614, 0.094291,
        0.094071, 0.105376, 0.094043, 0.102189, 0.102906, 0.102720, 0.107594, 0.103009, 0.104518, 0.113379
    ],
    'beta2': [
        -0.00965161, -0.00935950, -0.01021790, -0.00883838, -0.00877474, -0.00934827, -0.00910121, -0.01021790, -0.01021790, -0.01021790,
        -0.00836011, -0.00915146, -0.01021790, -0.01021790, -0.01021790, -0.01021790, -0.00902067, -0.00895138, -0.01021790, -0.01021790,
        -0.01021790, -0.00948934, -0.01021790, -0.00919979, -0.00911634, -0.01021790, -0.00963142, -0.01021790, -0.00874596, -0.00885884
    ],
    'beta3': [
        0.000184247, 0.000207480, 0.000184247, 0.000202154, 0.000225191, 0.000206149, 0.000202328, 0.000202895, 0.000184247, 0.000184247,
        0.000209394, 0.000225191, 0.000197591, 0.000201274, 0.000184247, 0.000196602, 0.000184247, 0.000184247, 0.000184247, 0.000194132,
        0.000192870, 0.000221601, 0.000196834, 0.000212225, 0.000225191, 0.000184247, 0.000184247, 0.000184247, 0.000225191, 0.000197156
    ],
    'sigma2': [
        0.010000, 0.010000, 0.000100, 0.010000, 0.010000, 0.010000, 0.010000, 0.010000, 0.000100, 0.000101,
        0.010000, 0.010000, 0.000100, 0.010000, 0.000100, 0.000100, 0.010000, 0.010000, 0.000100, 0.000100,
        0.000100, 0.010000, 0.000100, 0.010000, 0.010000, 0.000100, 0.010000, 0.000100, 0.010000, 0.010000
    ]
}

ea_elite_data = {
    'eta': [
        0.369402, 0.369722, 0.369490, 0.370878, 0.368917, 0.372547, 0.369226, 0.368841, 0.367459, 0.377771,
        0.369620, 0.367245, 0.369213, 0.370106, 0.371003, 0.374662, 0.370376, 0.369240, 0.368672, 0.370669,
        0.368207, 0.371122, 0.368268, 0.369238, 0.369258, 0.369627, 0.370836, 0.370874, 0.369520, 0.369909
    ],
    'beta1': [
        0.0996292, 0.0989950, 0.0993770, 0.0993899, 0.0988709, 0.0995295, 0.0995830, 0.0996278, 0.0986435, 0.1020590,
        0.0994676, 0.0992522, 0.0993757, 0.0989518, 0.0991325, 0.1006810, 0.0992741, 0.0987498, 0.0996001, 0.0988055,
        0.0992432, 0.0999237, 0.0982632, 0.0991437, 0.0989526, 0.0996184, 0.0997187, 0.1001420, 0.0982521, 0.0997324
    ],
    'beta2': [
        -0.00897875, -0.00893897, -0.00895503, -0.00895928, -0.00892171, -0.00898814, -0.00896302, -0.00897052, -0.00889066, -0.00919195,
        -0.00897478, -0.00893435, -0.00897088, -0.00893344, -0.00894561, -0.00908167, -0.00895550, -0.00890723, -0.00896169, -0.00893192,
        -0.00893191, -0.00900908, -0.00887483, -0.00893453, -0.00892667, -0.00896726, -0.00897410, -0.00900440, -0.00888795, -0.00898297
    ],
    'beta3': [
        0.000199628, 0.000198949, 0.000199115, 0.000199266, 0.000198604, 0.000199775, 0.000199145, 0.000199536, 0.000197965, 0.000203801,
        0.000199567, 0.000198766, 0.000199633, 0.000198818, 0.000199019, 0.000201431, 0.000199110, 0.000198238, 0.000199180, 0.000198834,
        0.000198649, 0.000200199, 0.000197758, 0.000198753, 0.000198637, 0.000199308, 0.000199448, 0.000200056, 0.000198086, 0.000199726
    ],
    'sigma2': [
        9.99393e-05, 9.99712e-05, 0.000100179, 0.000100113, 0.000100101, 0.000100446, 0.000100563, 9.99938e-05, 9.98452e-05, 9.93988e-05,
        9.99755e-05, 9.99215e-05, 0.000100409, 0.000100212, 0.000100038, 0.000100435, 0.000100338, 9.99206e-05, 0.000100158, 0.000100731,
        0.000100136, 0.000100049, 0.000100134, 0.000100190, 9.95919e-05, 9.96715e-05, 9.98704e-05, 0.000100080, 0.000100921, 0.000100004
    ]
}

mae_data = {
    'eta': [
        0.370268, 0.367560, 0.370044, 0.368138, 0.369638, 0.370844, 0.371567, 0.369696, 0.370901, 0.368369,
        0.371147, 0.368352, 0.367555, 0.368388, 0.373273, 0.368420, 0.367932, 0.370240, 0.371753, 0.371872,
        0.369276, 0.368217, 0.370199, 0.369649, 0.372320, 0.371341, 0.370819, 0.370859, 0.371473, 0.367670
    ],
    'beta1': [
        0.099816, 0.0981045, 0.0995902, 0.0985344, 0.0993470, 0.100283, 0.100605, 0.0993987, 0.100324, 0.0986703,
        0.100317, 0.0986632, 0.0980938, 0.0986828, 0.101436, 0.0986616, 0.0984072, 0.0997243, 0.100664, 0.100641,
        0.0991535, 0.0985767, 0.0997425, 0.0993677, 0.100956, 0.100375, 0.100182, 0.100210, 0.100810, 0.0982649
    ],
    'beta2': [
        -0.00898965, -0.00885794, -0.00897278, -0.00889023, -0.00895477, -0.00902544, -0.00904983, -0.00895848, -0.00902695, -0.00890083,
        -0.00902957, -0.00890044, -0.00885677, -0.00890173, -0.00911949, -0.00890089, -0.00888051, -0.00898353, -0.00905563, -0.00905404,
        -0.00893840, -0.00889344, -0.00898359, -0.00895620, -0.00907909, -0.00903390, -0.00901750, -0.00901916, -0.00906405, -0.00886999
    ],
    'beta3': [
        0.000199758, 0.000197401, 0.000199460, 0.000197988, 0.000199148, 0.000200395, 0.000200829, 0.000199214, 0.000200432, 0.000198176,
        0.000200478, 0.000198167, 0.000197386, 0.000198192, 0.000202186, 0.000198179, 0.000197814, 0.000199670, 0.000200932, 0.000200930,
        0.000198850, 0.000198041, 0.000199658, 0.000199174, 0.000201384, 0.000200546, 0.000200287, 0.000200279, 0.000201071, 0.000197620
    ],
    'sigma2': [
        0.000100091, 0.000098794, 0.000098476, 0.000100560, 0.000099717, 0.000101587, 0.000102135, 0.000100644, 0.000100095, 0.000099867,
        0.000097724, 0.000099785, 0.000099856, 0.000100166, 0.000094822, 0.000100221, 0.000099958, 0.000100600, 0.000100991, 0.000098909,
        0.000099240, 0.000099772, 0.000099350, 0.000100474, 0.000102118, 0.000100541, 0.000098904, 0.000102762, 0.000101686, 0.000099672
    ]
}

de_data = {
    'eta': [
        0.368639, 0.368640, 0.368639, 0.368640, 0.368639, 0.368640, 0.368640, 0.368639,
        0.368640, 0.368640, 0.368639, 0.368639, 0.368639, 0.368640, 0.368640, 0.368639,
        0.368641, 0.368639, 0.368641, 0.368640, 0.368641, 0.368639, 0.368640, 0.368639,
        0.368640, 0.368639, 0.368639, 0.368640, 0.368640, 0.368640
    ],
    'beta1': [
        0.0988175, 0.0988175, 0.0988176, 0.0988176, 0.0988172, 0.0988175, 0.0988174, 0.0988175,
        0.0988174, 0.0988176, 0.0988176, 0.0988175, 0.0988177, 0.0988175, 0.0988176, 0.0988175,
        0.0988174, 0.0988175, 0.0988174, 0.0988175, 0.0988176, 0.0988176, 0.0988173, 0.0988173,
        0.0988175, 0.0988176, 0.0988177, 0.0988175, 0.0988176, 0.0988173
    ],
    'beta2': [
        -0.00891246, -0.00891246, -0.00891247, -0.00891247, -0.00891244, -0.00891247, -0.00891245, -0.00891246,
        -0.00891245, -0.00891247, -0.00891246, -0.00891246, -0.00891247, -0.00891247, -0.00891246, -0.00891246,
        -0.00891246, -0.00891246, -0.00891247, -0.00891246, -0.00891248, -0.00891247, -0.00891245, -0.00891245,
        -0.00891247, -0.00891247, -0.00891248, -0.00891246, -0.00891247, -0.00891245
    ],
    'beta3': [
        0.000198385, 0.000198385, 0.000198385, 0.000198385, 0.000198384, 0.000198385, 0.000198384, 0.000198385,
        0.000198385, 0.000198385, 0.000198385, 0.000198385, 0.000198385, 0.000198385, 0.000198385, 0.000198385,
        0.000198385, 0.000198385, 0.000198385, 0.000198385, 0.000198385, 0.000198385, 0.000198385, 0.000198385,
        0.000198385, 0.000198385, 0.000198385, 0.000198385, 0.000198385, 0.000198385
    ],
    'sigma2': [
        0.000100011 for _ in range(30)
    ]
}

# Generar dataframe en formato largo: Algoritmo, Ejecución, Parámetro, Error
records = []
for param, values in de_data.items():
    for i, v in enumerate(values):
        abs_error = abs(v - param_values[param])
        records.append(["DE", i+1, param, abs_error])

df_errors = pd.DataFrame(records, columns=["Algoritmo", "Ejecución", "Parámetro", "Error"])

# Guardar el DataFrame en un archivo CSV
df_errors.to_csv("erroresDE.csv", index=False)

